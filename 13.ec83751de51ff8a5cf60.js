(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1SLH":function(e,i,t){"use strict";t.d(i,"a",function(){return R}),t.d(i,"b",function(){return W});var n=t("fXoL"),l=t("R0Ic"),a=t("ofXK"),s=t("YyRF"),c=t("tyNb"),o=t("Q4Mo");const r=["pMenuItemContent",""];function u(e,i){if(1&e&&n.Kb(0,"span",6),2&e){const e=n.Yb(2);n.fc("ngClass",e.item.icon)}}function b(e,i){if(1&e&&(n.Pb(0,"span",7),n.Cc(1),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.Dc(e.item.label)}}function d(e,i){if(1&e&&n.Kb(0,"span",8),2&e){const e=n.Yb(2);n.fc("innerHTML",e.item.label,n.tc)}}const m=function(e){return{"p-disabled":e}};function f(e,i){if(1&e){const e=n.Qb();n.Pb(0,"a",2),n.Wb("click",function(i){n.sc(e);const t=n.Yb();return t.menu.itemClick(i,t.item)}),n.Ac(1,u,1,1,"span",3),n.Ac(2,b,2,1,"span",4),n.Ac(3,d,1,1,"ng-template",null,5,n.Bc),n.Ob()}if(2&e){const e=n.rc(4),i=n.Yb();n.fc("ngClass",n.ic(10,m,i.item.disabled)),n.zb("href",i.item.url||null,n.vc)("tabindex",i.item.disabled?null:"0")("data-automationid",i.item.automationId)("target",i.item.target)("title",i.item.title)("id",i.item.id),n.yb(1),n.fc("ngIf",i.item.icon),n.yb(1),n.fc("ngIf",!1!==i.item.escape)("ngIfElse",e)}}function p(e,i){if(1&e&&n.Kb(0,"span",6),2&e){const e=n.Yb(2);n.fc("ngClass",e.item.icon)}}function h(e,i){if(1&e&&(n.Pb(0,"span",7),n.Cc(1),n.Ob()),2&e){const e=n.Yb(2);n.yb(1),n.Dc(e.item.label)}}function g(e,i){if(1&e&&n.Kb(0,"span",8),2&e){const e=n.Yb(2);n.fc("innerHTML",e.item.label,n.tc)}}const v=function(){return{exact:!1}};function y(e,i){if(1&e){const e=n.Qb();n.Pb(0,"a",9),n.Wb("click",function(i){n.sc(e);const t=n.Yb();return t.menu.itemClick(i,t.item)}),n.Ac(1,p,1,1,"span",3),n.Ac(2,h,2,1,"span",4),n.Ac(3,g,1,1,"ng-template",null,10,n.Bc),n.Ob()}if(2&e){const e=n.rc(4),i=n.Yb();n.fc("routerLink",i.item.routerLink)("queryParams",i.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.item.routerLinkActiveOptions||n.hc(19,v))("ngClass",n.ic(20,m,i.item.disabled))("fragment",i.item.fragment)("queryParamsHandling",i.item.queryParamsHandling)("preserveFragment",i.item.preserveFragment)("skipLocationChange",i.item.skipLocationChange)("replaceUrl",i.item.replaceUrl)("state",i.item.state),n.zb("data-automationid",i.item.automationId)("target",i.item.target)("id",i.item.id)("tabindex",i.item.disabled?null:"0")("title",i.item.title),n.yb(1),n.fc("ngIf",i.item.icon),n.yb(1),n.fc("ngIf",!1!==i.item.escape)("ngIfElse",e)}}const k=["container"],O=function(e){return{"p-hidden":e}};function I(e,i){if(1&e&&n.Kb(0,"li",8),2&e){const e=n.Yb().$implicit;n.fc("ngClass",n.ic(1,O,!1===e.visible))}}function S(e,i){if(1&e&&(n.Pb(0,"span"),n.Cc(1),n.Ob()),2&e){const e=n.Yb(2).$implicit;n.yb(1),n.Dc(e.label)}}function A(e,i){if(1&e&&n.Kb(0,"span",12),2&e){const e=n.Yb(2).$implicit;n.fc("innerHTML",e.label,n.tc)}}function Y(e,i){if(1&e&&(n.Pb(0,"li",9),n.Ac(1,S,2,1,"span",10),n.Ac(2,A,1,1,"ng-template",null,11,n.Bc),n.Ob()),2&e){const e=n.rc(3),i=n.Yb().$implicit;n.fc("ngClass",n.ic(4,O,!1===i.visible)),n.zb("data-automationid",i.automationId),n.yb(1),n.fc("ngIf",!1!==i.escape)("ngIfElse",e)}}function C(e,i){if(1&e&&n.Kb(0,"li",8),2&e){const e=n.Yb().$implicit,i=n.Yb().$implicit;n.fc("ngClass",n.ic(1,O,!1===e.visible||!1===i.visible))}}function L(e,i){if(1&e&&n.Kb(0,"li",14),2&e){const e=n.Yb().$implicit,i=n.Yb().$implicit;n.Ab(e.styleClass),n.fc("pMenuItemContent",e)("ngClass",n.ic(5,O,!1===e.visible||!1===i.visible))("ngStyle",e.style)}}function P(e,i){if(1&e&&(n.Ac(0,C,1,3,"li",6),n.Ac(1,L,1,7,"li",13)),2&e){const e=i.$implicit;n.fc("ngIf",e.separator),n.yb(1),n.fc("ngIf",!e.separator)}}function D(e,i){if(1&e&&(n.Ac(0,I,1,3,"li",6),n.Ac(1,Y,4,6,"li",7),n.Ac(2,P,2,2,"ng-template",5)),2&e){const e=i.$implicit;n.fc("ngIf",e.separator),n.yb(1),n.fc("ngIf",!e.separator),n.yb(1),n.fc("ngForOf",e.items)}}function M(e,i){if(1&e&&n.Ac(0,D,3,3,"ng-template",5),2&e){const e=n.Yb(2);n.fc("ngForOf",e.model)}}function w(e,i){if(1&e&&n.Kb(0,"li",8),2&e){const e=n.Yb().$implicit;n.fc("ngClass",n.ic(1,O,!1===e.visible))}}function T(e,i){if(1&e&&n.Kb(0,"li",14),2&e){const e=n.Yb().$implicit;n.Ab(e.styleClass),n.fc("pMenuItemContent",e)("ngClass",n.ic(5,O,!1===e.visible))("ngStyle",e.style)}}function z(e,i){if(1&e&&(n.Ac(0,w,1,3,"li",6),n.Ac(1,T,1,7,"li",13)),2&e){const e=i.$implicit;n.fc("ngIf",e.separator),n.yb(1),n.fc("ngIf",!e.separator)}}function H(e,i){if(1&e&&n.Ac(0,z,2,2,"ng-template",5),2&e){const e=n.Yb(2);n.fc("ngForOf",e.model)}}const K=function(e){return{"p-menu p-component":!0,"p-menu-overlay":e}},x=function(e,i){return{showTransitionParams:e,hideTransitionParams:i}},F=function(e){return{value:"visible",params:e}};function Z(e,i){if(1&e){const e=n.Qb();n.Pb(0,"div",1,2),n.Wb("click",function(){return n.sc(e),n.Yb().preventDocumentDefault=!0})("@overlayAnimation.start",function(i){return n.sc(e),n.Yb().onOverlayAnimationStart(i)}),n.Pb(2,"ul",3),n.Ac(3,M,1,1,void 0,4),n.Ac(4,H,1,1,void 0,4),n.Ob(),n.Ob()}if(2&e){const e=n.Yb();n.Ab(e.styleClass),n.fc("ngClass",n.ic(8,K,e.popup))("ngStyle",e.style)("@overlayAnimation",n.ic(13,F,n.jc(10,x,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0!==e.popup),n.yb(3),n.fc("ngIf",e.hasSubMenu()),n.yb(1),n.fc("ngIf",!e.hasSubMenu())}}let E=(()=>{class e{constructor(e){this.menu=e}}return e.\u0275fac=function(i){return new(i||e)(n.Jb(Object(n.S)(()=>R)))},e.\u0275cmp=n.Db({type:e,selectors:[["","pMenuItemContent",""]],inputs:{item:["pMenuItemContent","item"]},attrs:r,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"ngClass","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"ngClass","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""]],template:function(e,i){1&e&&(n.Ac(0,f,5,12,"a",0),n.Ac(1,y,5,22,"a",1)),2&e&&(n.fc("ngIf",!i.item.routerLink),n.yb(1),n.fc("ngIf",i.item.routerLink))},directives:[a.m,a.k,c.d,o.a,c.c],encapsulation:2}),e})(),R=(()=>{class e{constructor(e,i,t){this.el=e,this.renderer=i,this.cd=t,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new n.n,this.onHide=new n.n}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?s.b.relativePosition(this.container,this.target):s.b.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):s.b.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++s.b.zindex))}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}itemClick(e,i){i.disabled?e.preventDefault():(i.url||e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),this.popup&&this.hide())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s.a(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.target=null}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var e of this.model)if(e.items)return!0;return!1}}return e.\u0275fac=function(i){return new(i||e)(n.Jb(n.l),n.Jb(n.D),n.Jb(n.h))},e.\u0275cmp=n.Db({type:e,selectors:[["p-menu"]],viewQuery:function(e,i){var t;1&e&&n.Ic(k,!0),2&e&&n.qc(t=n.Xb())&&(i.containerViewChild=t.first)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header",3,"ngClass",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],[1,"p-submenu-header",3,"ngClass"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","class",4,"ngIf"],[1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle"]],template:function(e,i){1&e&&n.Ac(0,Z,5,15,"div",0),2&e&&n.fc("ngIf",!i.popup||i.visible)},directives:[a.m,a.k,a.n,a.l,E],styles:[".p-menu-overlay{position:absolute}.p-menu ul{list-style:none;margin:0;padding:0}.p-menu .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}.p-menu .p-menuitem-text{line-height:1}"],encapsulation:2,data:{animation:[Object(l.o)("overlayAnimation",[Object(l.n)(":enter",[Object(l.m)({opacity:0,transform:"scaleY(0.8)"}),Object(l.e)("{{showTransitionParams}}")]),Object(l.n)(":leave",[Object(l.e)("{{hideTransitionParams}}",Object(l.m)({opacity:0}))])])]},changeDetection:0}),e})(),W=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(i){return new(i||e)},imports:[[a.b,c.e,o.b],c.e]}),e})()},"M2/K":function(e,i,t){"use strict";t.d(i,"a",function(){return n});class n{constructor(){this.data=[],this.count=0,this.loading=!1}}},rGHs:function(e,i,t){"use strict";t.r(i),t.d(i,"IsletmeHedefleriModule",function(){return G});var n=t("ofXK"),l=t("3Pt+"),a=t("tyNb"),s=t("rEr+"),c=t("jIHw"),o=t("M2/K"),r=t("p5wL"),u=t("fXoL"),b=t("j0Dl"),d=t("eKg/"),m=t("GusI"),f=t("ZCjY"),p=t("QIUk"),h=t("7zfz"),g=t("arFO"),v=t("eO1q"),y=t("NCSE"),k=t("7kUa"),O=t("sKUQ");const I=function(){return{width:"100%"}};function S(e,i){if(1&e){const e=u.Qb();u.Pb(0,"p-dropdown",9),u.Wb("onChange",function(){return u.sc(e),u.Yb(2).gridLazyEvent(null)})("ngModelChange",function(i){return u.sc(e),u.Yb(2).kullaniciService.seciliKullaniciIsletmeYetki=i}),u.Ob()}if(2&e){const e=u.Yb(2);u.yc(u.hc(4,I)),u.fc("ngModel",e.kullaniciService.seciliKullaniciIsletmeYetki)("options",e.kullaniciService.kullaniciIsletmeYetkiList)}}function A(e,i){if(1&e){const e=u.Qb();u.Pb(0,"p-calendar",10),u.Wb("onInput",function(){return u.sc(e),u.Yb(2).gridLazyEvent(null)})("onSelect",function(){return u.sc(e),u.Yb(2).gridLazyEvent(null)})("ngModelChange",function(i){return u.sc(e),u.Yb(2).tarih=i}),u.Ob()}if(2&e){const e=u.Yb(2);u.fc("ngModel",e.tarih)("monthNavigator",!0)("touchUI",!0)("firstDayOfWeek",1)("yearNavigator",!0)}}function Y(e,i){if(1&e&&(u.Pb(0,"div"),u.Pb(1,"p-card"),u.Pb(2,"p-header"),u.Pb(3,"div",6),u.Pb(4,"h3"),u.Cc(5),u.Zb(6,"translate"),u.Zb(7,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Pb(8,"div",0),u.Pb(9,"div",1),u.Cc(10),u.Zb(11,"translate"),u.Ob(),u.Pb(12,"div",4),u.Ac(13,S,1,5,"p-dropdown",7),u.Ob(),u.Pb(14,"div",1),u.Cc(15),u.Zb(16,"translate"),u.Ob(),u.Pb(17,"div",4),u.Ac(18,A,1,5,"p-calendar",8),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&e){const e=u.Yb();u.yb(5),u.Fc("",u.ac(6,6,"company"),"-",u.ac(7,8,"date"),""),u.yb(5),u.Ec(" ",u.ac(11,10,"company")," "),u.yb(3),u.fc("ngIf",!e.duzenlemeAktif),u.yb(2),u.Ec(" ",u.ac(16,12,"date")," "),u.yb(3),u.fc("ngIf",!e.duzenlemeAktif)}}function C(e,i){1&e&&(u.Pb(0,"span"),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&e&&(u.yb(1),u.Dc(u.ac(2,1,"companyMustBeSelected")))}function L(e,i){if(1&e){const e=u.Qb();u.Pb(0,"button",17),u.Wb("click",function(){return u.sc(e),u.Yb(2).duzenlemeAc()}),u.Zb(1,"translate"),u.Ob()}if(2&e){const e=u.Yb(2);u.fc("disabled",e.genelService.islemDevam)("label",u.ac(1,2,"update"))}}function P(e,i){if(1&e){const e=u.Qb();u.Pb(0,"button",18),u.Wb("click",function(){return u.sc(e),u.Yb(2).dosyaYuklemeAktif=!0}),u.Zb(1,"translate"),u.Ob()}if(2&e){const e=u.Yb(2);u.fc("disabled",e.genelService.islemDevam)("label",u.ac(1,2,"getDataFromExcelFile"))}}function D(e,i){if(1&e){const e=u.Qb();u.Pb(0,"button",19),u.Wb("click",function(){return u.sc(e),u.Yb(2).listeAc()}),u.Zb(1,"translate"),u.Ob()}if(2&e){const e=u.Yb(2);u.fc("disabled",e.genelService.islemDevam)("label",u.ac(1,2,"openList"))}}function M(e,i){if(1&e){const e=u.Qb();u.Pb(0,"button",18),u.Wb("click",function(){return u.sc(e),u.Yb(2).duzenlemeKapat()}),u.Zb(1,"translate"),u.Ob()}if(2&e){const e=u.Yb(2);u.fc("disabled",e.genelService.islemDevam)("label",u.ac(1,2,"save"))}}function w(e,i){if(1&e){const e=u.Qb();u.Pb(0,"p-fileUpload",20),u.Wb("uploadHandler",function(i){return u.sc(e),u.Yb(2).isletmeHedefDosyaYukle(i)}),u.Zb(1,"translate"),u.Zb(2,"translate"),u.Zb(3,"translate"),u.Zb(4,"translate"),u.Zb(5,"translate"),u.Zb(6,"translate"),u.Zb(7,"translate"),u.Ob()}2&e&&u.fc("cancelLabel",u.ac(1,7,"clear"))("chooseLabel",u.ac(2,9,"selectFile"))("invalidFileSizeMessageDetail",u.ac(3,11,"fileMaxSizeExceeded"))("invalidFileSizeMessageSummary",u.ac(4,13,"error"))("invalidFileTypeMessageDetail",u.ac(5,15,"fileTypeInvalid"))("invalidFileTypeMessageSummary",u.ac(6,17,"error"))("uploadLabel",u.ac(7,19,"upload"))}function T(e,i){if(1&e&&(u.Pb(0,"div",11),u.Pb(1,"p-card"),u.Pb(2,"p-header"),u.Pb(3,"div",6),u.Pb(4,"h5"),u.Cc(5),u.Zb(6,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Pb(7,"div",12),u.Ac(8,C,3,3,"span",2),u.Ac(9,L,2,4,"button",13),u.Ac(10,P,2,4,"button",14),u.Ac(11,D,2,4,"button",15),u.Ac(12,M,2,4,"button",14),u.Ob(),u.Pb(13,"div"),u.Ac(14,w,8,21,"p-fileUpload",16),u.Ob(),u.Ob(),u.Ob()),2&e){const e=u.Yb();u.yb(5),u.Dc(u.ac(6,7,"process")),u.yb(3),u.fc("ngIf",null==e.kullaniciService.seciliKullaniciIsletmeYetki||null==e.kullaniciService.seciliKullaniciIsletmeYetki.token),u.yb(1),u.fc("ngIf",!e.duzenlemeAktif&&!e.dosyaYuklemeAktif),u.yb(1),u.fc("ngIf",e.duzenlemeAktif&&!e.dosyaYuklemeAktif),u.yb(1),u.fc("ngIf",!e.duzenlemeAktif&&!e.dosyaYuklemeAktif),u.yb(1),u.fc("ngIf",e.duzenlemeAktif),u.yb(2),u.fc("ngIf",e.dosyaYuklemeAktif)}}function z(e,i){1&e&&(u.Pb(0,"p-card"),u.Pb(1,"div",12),u.Pb(2,"span"),u.Cc(3),u.Zb(4,"translate"),u.Ob(),u.Ob(),u.Ob()),2&e&&(u.yb(3),u.Dc(u.ac(4,1,"noAuthorizationForSeeData")))}function H(e,i){if(1&e){const e=u.Qb();u.Pb(0,"button",28),u.Wb("click",function(){return u.sc(e),u.Yb(3).hepsiniExceldenAktar()}),u.Zb(1,"translate"),u.Ob()}2&e&&u.fc("label",u.ac(1,1,"getDataFromExcelFile"))}function K(e,i){if(1&e&&(u.Pb(0,"div",0),u.Pb(1,"div",1),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Pb(4,"div",4),u.Cc(5),u.Ob(),u.Ac(6,H,2,3,"button",27),u.Ob()),2&e){const e=u.Yb(2);u.yb(2),u.Dc(u.ac(3,3,"targetTotal")),u.yb(3),u.Dc(e.hedefToplam),u.yb(1),u.fc("ngIf",e.excelKolonAktif)}}function x(e,i){1&e&&(u.Pb(0,"th",29),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&e&&(u.yb(1),u.Dc(u.ac(2,1,"excelTotal")))}function F(e,i){if(1&e&&(u.Pb(0,"tr"),u.Pb(1,"th",29),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Pb(4,"th",29),u.Cc(5),u.Zb(6,"translate"),u.Ob(),u.Ac(7,x,3,3,"th",30),u.Ob()),2&e){const e=u.Yb(2);u.yb(2),u.Dc(u.ac(3,3,"date")),u.yb(3),u.Dc(u.ac(6,5,"total")),u.yb(2),u.fc("ngIf",e.excelKolonAktif)}}function Z(e,i){if(1&e){const e=u.Qb();u.Pb(0,"td"),u.Pb(1,"div",31),u.Pb(2,"input",32),u.Wb("keyup",function(){u.sc(e);const i=u.Yb().$implicit,t=u.Yb(2);return i.tutar=t.genelService.moneyFix(i.tutar),t.hedefToplamHesapla()})("ngModelChange",function(i){return u.sc(e),u.Yb().$implicit.tutar=i}),u.Ob(),u.Ob(),u.Ob()}if(2&e){const e=u.Yb().$implicit;u.yb(2),u.fc("ngModel",e.tutar)}}function E(e,i){if(1&e&&(u.Pb(0,"span"),u.Cc(1),u.Ob()),2&e){const e=u.Yb(4);u.yb(1),u.Dc(e.kullaniciService.seciliKullaniciKurumYetki.kurum.paraBirimi)}}function R(e,i){if(1&e&&(u.Pb(0,"td"),u.Pb(1,"div",31),u.Cc(2),u.Ac(3,E,2,1,"span",2),u.Ob(),u.Ob()),2&e){const e=u.Yb().$implicit,i=u.Yb(2);u.yb(2),u.Ec("",e.tutar," "),u.yb(1),u.fc("ngIf",null==i.kullaniciService.seciliKullaniciKurumYetki||null==i.kullaniciService.seciliKullaniciKurumYetki.kurum?null:i.kullaniciService.seciliKullaniciKurumYetki.kurum.paraBirimi)}}function W(e,i){if(1&e){const e=u.Qb();u.Pb(0,"td"),u.Pb(1,"button",33),u.Wb("click",function(){u.sc(e);const i=u.Yb().$implicit;return u.Yb(2).exceldenAktar(i)}),u.Ob(),u.Pb(2,"div",31),u.Cc(3),u.Ob(),u.Ob()}if(2&e){const e=u.Yb().$implicit;u.yb(3),u.Dc(e.excelTutar)}}function $(e,i){if(1&e&&(u.Pb(0,"tr"),u.Pb(1,"td"),u.Cc(2),u.Zb(3,"date"),u.Ob(),u.Ac(4,Z,3,1,"td",2),u.Ac(5,R,4,2,"td",2),u.Ac(6,W,4,1,"td",2),u.Ob()),2&e){const e=i.$implicit,t=u.Yb(2);u.yb(2),u.Fc(" ",u.bc(3,5,e.hedefTarih,"dd.MM.yyyy")," ",e.gun," "),u.yb(2),u.fc("ngIf",t.duzenlemeAktif),u.yb(1),u.fc("ngIf",!t.duzenlemeAktif),u.yb(1),u.fc("ngIf",t.excelKolonAktif)}}function Q(e,i){1&e&&u.Kb(0,"td")}function B(e,i){if(1&e&&(u.Pb(0,"tr"),u.Pb(1,"td"),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Pb(4,"td"),u.Pb(5,"div",31),u.Cc(6),u.Ob(),u.Ob(),u.Ac(7,Q,1,0,"td",2),u.Ob()),2&e){const e=u.Yb(2);u.yb(2),u.Dc(u.ac(3,3,"total")),u.yb(4),u.Dc(e.hedefToplam),u.yb(1),u.fc("ngIf",e.excelKolonAktif)}}function j(e,i){if(1&e){const e=u.Qb();u.Pb(0,"p-table",21,22),u.Wb("onLazyLoad",function(i){return u.sc(e),u.Yb().gridLazyEvent(i)}),u.Ac(2,K,7,5,"ng-template",23),u.Ac(3,F,8,7,"ng-template",24),u.Ac(4,$,7,8,"ng-template",25),u.Ac(5,B,8,5,"ng-template",26),u.Ob()}if(2&e){const e=u.Yb();u.fc("lazy",!0)("loading",e.tableModel.loading)("paginator",!0)("rows",31)("totalRecords",e.tableModel.count)("value",e.tableModel.data)}}let U=(()=>{class e{constructor(e,i,t,n){this.genelService=e,this.translatePipe=i,this.kullaniciService=t,this.isletmeHedefService=n,this.duzenlemeAktif=!1,this.dosyaYuklemeAktif=!1,this.excelKolonAktif=!1,this.tableModel=new o.a,this.tarih=new Date,this.tarih.setHours(0,0,0,0),this.tarih.setDate(1),this.bitisTarihi=new Date(this.tarih.getFullYear(),this.tarih.getMonth()+1,0),this.gridLazyEvent(null)}exceldenAktar(e){e.tutar=Number(e.excelTutar.toFixed(4)),this.hedefToplamHesapla()}hepsiniExceldenAktar(){for(const e of this.tableModel.data)this.exceldenAktar(e);this.excelKolonAktif=!1}isletmeHedefDosyaYukle(e){const i=new FormData;i.append("file",e.files[0]),this.isletmeHedefService.exceldenAl(i).subscribe(e=>{this.dosyaYuklemeAktif=!1;for(const i of e.tableModel.data)for(const e of this.tableModel.data)if(e.hedefTarih===i.hedefTarih){e.excelTutar=i.tutar;break}this.excelKolonAktif=!0},e=>{this.genelService.errorHandler(e)})}duzenlemeAc(){this.duzenlemeAktif=!0}listeAc(){this.genelService.islemDevam=!0,this.isletmeHedefService.listeAc(this.kullaniciService.seciliKullaniciIsletmeYetki.isletme,this.tarih).subscribe(()=>{this.genelService.islemDevam=!1,this.gridLazyEvent(null)},e=>{this.genelService.errorHandler(e)})}hedefToplamHesapla(){this.hedefToplam=0;for(const e of this.tableModel.data)this.hedefToplam=this.hedefToplam+Number(e.tutar)}duzenlemeKapat(){this.genelService.islemDevam=!0,this.duzenlemeAktif=!1,this.dosyaYuklemeAktif=!1,this.hedefToplamHesapla();for(const e of this.tableModel.data)e.gun=void 0;this.isletmeHedefService.guncelle(this.tableModel).subscribe(()=>{this.genelService.islemDevam=!1,this.genelService.messageSuccess("",this.translatePipe.transform("updated"))},e=>{this.genelService.errorHandler(e)})}ngOnInit(){this.kullaniciService.userScreen=this.translatePipe.transform("companyObjectives"),null==this.kullaniciService.token||this.kullaniciService.token.length<1?this.genelService.navigate(["/"]):(this.genelService.kullaniciMobil=this.genelService.regex_Mobilmi(),this.genelService.getLocalIp(),this.gridLazyEvent(null))}gridLazyEvent(e){if(null==this.kullaniciService.seciliKullaniciKurumYetki||null==this.kullaniciService.seciliKullaniciKurumYetki.token||null==this.kullaniciService.seciliKullaniciIsletmeYetki||null==this.kullaniciService.seciliKullaniciIsletmeYetki.isletme||null==this.kullaniciService.seciliKullaniciIsletmeYetki.isletme.id||!this.kullaniciService.seciliKullaniciIsletmeYetki.isletmeHedefGorur)return void(this.tableModel=new o.a);this.tableModel=new o.a,this.tableModel.loading=!0,this.tarih.setHours(0,0,0,0),this.bitisTarihi=new Date(this.tarih.getFullYear(),this.tarih.getMonth()+1,0),this.tarih.setDate(1);const i={};i.hedefTarih=this.tarih.getTime()+"-"+this.bitisTarihi.getTime(),i.pasif=!1,i.isletme=JSON.stringify({id:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme.id}),i.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),this.isletmeHedefService.grid({page:null!=e&&null!=e.first?e.first:0,pageSize:null!=e&&null!=e.rows?e.rows:32,sortField:null!=e&&null!=e.sortField?e.sortField:"hedefTarih",sortOrder:null!=e&&null!=e.sortField?e.sortOrder:1,filters:i}).subscribe(e=>{this.tableModel=e.tableModel;for(const i of this.tableModel.data){const e=new Date(i.hedefTarih);i.gun=this.genelService.getDayOfWeek(e.getDay())}this.hedefToplamHesapla(),this.tableModel.loading=!1},e=>{this.genelService.errorHandler(e),this.tableModel.loading=!1})}}return e.\u0275fac=function(i){return new(i||e)(u.Jb(b.a),u.Jb(d.a),u.Jb(m.a),u.Jb(f.a))},e.\u0275cmp=u.Db({type:e,selectors:[["app-isletme-hedefleri"]],decls:7,vars:4,consts:[[1,"p-grid"],[1,"p-col-12","p-md-4","p-lg-4"],[4,"ngIf"],["style","display: block",4,"ngIf"],[1,"p-col-12","p-md-8","p-lg-8"],[3,"lazy","loading","paginator","rows","totalRecords","value","onLazyLoad",4,"ngIf"],[2,"text-align","center","display","block"],["optionLabel","isletme.ad",3,"ngModel","options","style","onChange","ngModelChange",4,"ngIf"],["dateFormat","dd.mm.yy","yearRange","2019:2050",3,"ngModel","monthNavigator","touchUI","firstDayOfWeek","yearNavigator","onInput","onSelect","ngModelChange",4,"ngIf"],["optionLabel","isletme.ad",3,"ngModel","options","onChange","ngModelChange"],["dateFormat","dd.mm.yy","yearRange","2019:2050",3,"ngModel","monthNavigator","touchUI","firstDayOfWeek","yearNavigator","onInput","onSelect","ngModelChange"],[2,"display","block"],[1,"p-text-center"],["class","p-button-danger p-m-2","pButton","","style","width: 100%",3,"disabled","label","click",4,"ngIf"],["class","p-button-success p-m-2","pButton","","style","width: 100%",3,"disabled","label","click",4,"ngIf"],["class","p-button-warning p-m-2","pButton","","style","width: 100%",3,"disabled","label","click",4,"ngIf"],["accept",".xlsx","customUpload","true","maxFileSize","26214400","name","File","showCancelButton","false",3,"cancelLabel","chooseLabel","invalidFileSizeMessageDetail","invalidFileSizeMessageSummary","invalidFileTypeMessageDetail","invalidFileTypeMessageSummary","uploadLabel","uploadHandler",4,"ngIf"],["pButton","",1,"p-button-danger","p-m-2",2,"width","100%",3,"disabled","label","click"],["pButton","",1,"p-button-success","p-m-2",2,"width","100%",3,"disabled","label","click"],["pButton","",1,"p-button-warning","p-m-2",2,"width","100%",3,"disabled","label","click"],["accept",".xlsx","customUpload","true","maxFileSize","26214400","name","File","showCancelButton","false",3,"cancelLabel","chooseLabel","invalidFileSizeMessageDetail","invalidFileSizeMessageSummary","invalidFileTypeMessageDetail","invalidFileTypeMessageSummary","uploadLabel","uploadHandler"],[3,"lazy","loading","paginator","rows","totalRecords","value","onLazyLoad"],["isletmeHedefTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","p-button-success p-m-2","pButton","",3,"label","click",4,"ngIf"],["pButton","",1,"p-button-success","p-m-2",3,"label","click"],[2,"text-align","center"],["style","text-align: center",4,"ngIf"],[2,"text-align","right"],["pInputText","","pKeyFilter","money","type","number",2,"width","100%",3,"ngModel","keyup","ngModelChange"],["icon","fas fa-arrow-alt-circle-left fa-lg","pButton","",1,"p-button-success","p-m-2",3,"click"]],template:function(e,i){1&e&&(u.Pb(0,"div",0),u.Pb(1,"div",1),u.Ac(2,Y,19,14,"div",2),u.Ac(3,T,15,9,"div",3),u.Ob(),u.Pb(4,"div",4),u.Ac(5,z,5,3,"p-card",2),u.Ac(6,j,6,6,"p-table",5),u.Ob(),u.Ob()),2&e&&(u.yb(2),u.fc("ngIf",!i.duzenlemeAktif),u.yb(1),u.fc("ngIf",null!=i.kullaniciService.seciliKullaniciIsletmeYetki&&null!=i.kullaniciService.seciliKullaniciIsletmeYetki.token&&(i.kullaniciService.kullanici.admin||i.kullaniciService.seciliKullaniciIsletmeYetki.isletmeHedefGunceller)),u.yb(2),u.fc("ngIf",!i.kullaniciService.kullanici.admin&&!i.kullaniciService.seciliKullaniciIsletmeYetki.isletmeHedefGorur),u.yb(1),u.fc("ngIf",null!=i.tableModel&&(i.kullaniciService.kullanici.admin||i.kullaniciService.seciliKullaniciIsletmeYetki.isletmeHedefGorur)))},directives:[n.m,p.a,h.g,g.a,l.f,l.g,v.a,c.b,y.a,s.d,h.j,l.i,l.a,k.a,O.a],pipes:[d.a,n.d],styles:[""],data:{animation:[r.a]}}),e})();var N=t("bKFz"),J=t("1SLH");const q=[{path:"",component:U}];let G=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(i){return new(i||e)},providers:[f.a],imports:[[a.e.forChild(q),n.b,l.b,k.b,N.a,c.c,s.g,J.b,g.b,v.b,y.b,O.b,p.b]]}),e})()}}]);