(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"gS+1":function(i,e,t){"use strict";t.r(e),t.d(e,"SatisModule",function(){return qi});var s=t("ofXK"),l=t("3Pt+"),a=t("tyNb"),n=t("rEr+"),r=t("7kUa"),c=t("jIHw"),b=t("p5wL"),o=t("M2/K"),u=t("fXoL"),d=t("j0Dl"),m=t("eKg/"),f=t("GusI"),h=t("2CQW"),g=t("1D3c"),p=t("nZ9O"),v=t("0HgG"),y=t("mnRn"),k=t("pP+f"),O=t("QU1g"),S=t("Gyf/"),P=t("/RsI"),M=t("7zfz"),C=t("1SLH"),K=t("arFO"),Y=t("ImVz"),I=t("dPl2"),T=t("SSqW"),D=t("QIUk");const z=["menu"];function A(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",0),u.Pb(1,"div",8),u.Pb(2,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).yeniSatis()}),u.Zb(3,"translate"),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb(2);u.yb(2),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(3,2,"newSale"))}}function w(i,e){1&i&&(u.Pb(0,"tr"),u.Kb(1,"th",10),u.Pb(2,"th",11),u.Cc(3),u.Zb(4,"translate"),u.Ob(),u.Ob()),2&i&&(u.yb(3),u.Dc(u.ac(4,1,"detail")))}function L(i,e){if(1&i){const i=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td"),u.Pb(2,"button",12),u.Wb("click",function(t){u.sc(i);const s=e.$implicit,l=e.rowIndex;return u.Yb(2).generateMenuCommands(s,l,t)}),u.Ob(),u.Kb(3,"p-menu",13,14),u.Ob(),u.Pb(5,"td"),u.Pb(6,"div",0),u.Pb(7,"div",15),u.Cc(8),u.Zb(9,"translate"),u.Ob(),u.Pb(10,"div",16),u.Cc(11),u.Zb(12,"date"),u.Ob(),u.Pb(13,"div",15),u.Cc(14),u.Zb(15,"translate"),u.Ob(),u.Pb(16,"div",16),u.Cc(17),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit,t=u.Yb(2);u.yb(2),u.fc("disabled",t.genelService.islemDevam),u.yb(1),u.fc("model",t.menuModel)("popup",!0),u.yb(5),u.Dc(u.ac(9,7,"header")),u.yb(3),u.Dc(u.bc(12,9,i.tarih,"dd.MM.yyyy HH:mm:ss")),u.yb(3),u.Dc(u.ac(15,12,"amount")),u.yb(3),u.Dc(i.tutar)}}function F(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",3),u.Pb(1,"p-table",4),u.Wb("onLazyLoad",function(e){return u.sc(i),u.Yb().gridLazyEvent(e)}),u.Ac(2,A,4,4,"ng-template",5),u.Ac(3,w,5,3,"ng-template",6),u.Ac(4,L,18,14,"ng-template",7),u.Ob(),u.Ob()}if(2&i){const i=u.Yb();u.yb(1),u.fc("lazy",!0)("loading",i.tableModel.loading)("paginator",!0)("rows",10)("totalRecords",i.tableModel.count)("value",i.tableModel.data)}}function Z(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",36),u.Wb("click",function(){return u.sc(i),u.Yb(2).changeCamera()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"changeCamera"))}}function U(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",37),u.Wb("click",function(){return u.sc(i),u.Yb(2).imageService.cameraStop()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"stopBarcodeScan"))}}function x(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).cameraOn()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"scanBarcode"))}}const H=function(){return{width:"100%"}};function W(i,e){if(1&i){const i=u.Qb();u.Pb(0,"p-dropdown",38),u.Wb("onChange",function(){return u.sc(i),u.Yb(2).musteriDegisti()})("ngModelChange",function(e){return u.sc(i),u.Yb(2).musteri=e}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.yc(u.hc(9,H)),u.fc("ngModel",i.musteri)("filter",!0)("options",i.musteriTableModel.data)("placeholder",u.ac(1,7,"anonymous"))("showClear",!0)}}function G(i,e){if(1&i&&(u.Pb(0,"span"),u.Cc(1),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.Dc(i.satis.satisKalemList[0].musteri.tamAd)}}function E(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).yeniMusteri()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"newCustomer"))}}function J(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",39),u.Wb("click",function(){return u.sc(i),u.Yb(2).guncelleMusteri()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"updateCustomer"))}}function N(i,e){if(1&i){const i=u.Qb();u.Pb(0,"p-dropdown",40),u.Wb("onChange",function(){return u.sc(i),u.Yb(2).satisTemsilcisiDegisti()})("ngModelChange",function(e){return u.sc(i),u.Yb(2).isletmeCalisan=e}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.yc(u.hc(9,H)),u.fc("ngModel",i.isletmeCalisan)("filter",!0)("options",i.isletmeCalisanTableModel.data)("placeholder",u.ac(1,7,"valueNotSet"))("showClear",!0)}}function Q(i,e){if(1&i&&(u.Pb(0,"span"),u.Cc(1),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.Dc(i.satis.satisKalemList[0].satisYapanCalisan.calisan.tamAd)}}function $(i,e){1&i&&(u.Pb(0,"span"),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&i&&(u.yb(1),u.Dc(u.ac(2,1,"anonymous")))}function B(i,e){1&i&&(u.Pb(0,"tr"),u.Pb(1,"th"),u.Pb(2,"div",0),u.Pb(3,"div",44),u.Cc(4),u.Zb(5,"translate"),u.Ob(),u.Pb(6,"div",45),u.Cc(7),u.Zb(8,"translate"),u.Ob(),u.Pb(9,"div",46),u.Cc(10),u.Zb(11,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&i&&(u.yb(4),u.Dc(u.ac(5,3,"productOrService")),u.yb(3),u.Dc(u.ac(8,5,"price")),u.yb(3),u.Dc(u.ac(11,7,"amount")))}function R(i,e){if(1&i&&(u.Pb(0,"div",51),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(i.stokUrun.ad)}}function j(i,e){if(1&i&&(u.Pb(0,"div",51),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(i.hizmet.ad)}}function V(i,e){if(1&i&&(u.Pb(0,"div",52),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Ec("",i.satisFiyat.fiyat," T ")}}function q(i,e){if(1&i&&(u.Pb(0,"div",53),u.Cc(1),u.Zb(2,"number"),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(u.bc(2,1,i.tutar,"0.2-2"))}}function X(i,e){if(1&i&&(u.Pb(0,"div",33),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Ec(" Miktar:",i.miktar,"")}}function _(i,e){if(1&i&&(u.Pb(0,"tr"),u.Pb(1,"td"),u.Pb(2,"div",0),u.Ac(3,R,2,1,"div",47),u.Ac(4,j,2,1,"div",47),u.Ac(5,V,2,1,"div",48),u.Ac(6,q,3,4,"div",49),u.Ac(7,X,2,1,"div",50),u.Pb(8,"div",33),u.Cc(9),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&i){const i=e.$implicit;u.yb(3),u.fc("ngIf",null!=i.stokUrun),u.yb(1),u.fc("ngIf",null!=i.hizmet),u.yb(1),u.fc("ngIf",null!=i.miktar),u.yb(1),u.fc("ngIf",null!=i.tutar),u.yb(1),u.fc("ngIf",null!=i.miktar),u.yb(2),u.Ec("A\xe7\u0131klama: ",i.aciklama,"")}}function ii(i,e){if(1&i&&(u.Pb(0,"div",0),u.Pb(1,"div",54),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Pb(4,"div",55),u.Cc(5),u.Zb(6,"number"),u.Ob(),u.Ob()),2&i){const i=u.Yb(4);u.yb(2),u.Dc(u.ac(3,2,"grandTotal")),u.yb(3),u.Dc(u.bc(6,4,i.satis.tutar,"0.2-2"))}}function ei(i,e){if(1&i&&(u.Pb(0,"p-table",42),u.Ac(1,B,12,9,"ng-template",6),u.Ac(2,_,10,6,"ng-template",7),u.Ac(3,ii,7,7,"ng-template",43),u.Ob()),2&i){const i=u.Yb(3);u.fc("scrollable",!0)("value",i.satis.satisKalemList)}}function ti(i,e){if(1&i&&(u.Pb(0,"div",3),u.Ac(1,ei,4,2,"p-table",41),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.fc("ngIf",null!=i.satis&&null!=i.satis.satisKalemList)}}function si(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",57),u.Pb(1,"div",58),u.Pb(2,"span",59),u.Cc(3),u.Zb(4,"translate"),u.Ob(),u.Ob(),u.Pb(5,"div",60),u.Pb(6,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb(4).barkod=e}),u.Ob(),u.Ob(),u.Pb(7,"div",60),u.Pb(8,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(4).barkoddanHizmetUrunEkle()}),u.Zb(9,"translate"),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb(4);u.yb(3),u.Dc(u.ac(4,4,"salesman")),u.yb(3),u.fc("ngModel",i.barkod),u.yb(2),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(9,6,"addProductOrServiceFromBarcode"))}}function li(i,e){1&i&&(u.Pb(0,"tr"),u.Kb(1,"th",10),u.Pb(2,"th"),u.Pb(3,"div",0),u.Pb(4,"div",44),u.Cc(5),u.Zb(6,"translate"),u.Ob(),u.Pb(7,"div",45),u.Cc(8),u.Zb(9,"translate"),u.Ob(),u.Pb(10,"div",46),u.Cc(11),u.Zb(12,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&i&&(u.yb(5),u.Dc(u.ac(6,3,"productOrService")),u.yb(3),u.Dc(u.ac(9,5,"price")),u.yb(3),u.Dc(u.ac(12,7,"amount")))}function ai(i,e){if(1&i&&(u.Pb(0,"div",51),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(i.stokUrun.ad)}}function ni(i,e){if(1&i&&(u.Pb(0,"div",51),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(i.hizmet.ad)}}function ri(i,e){if(1&i&&(u.Pb(0,"div",52),u.Cc(1),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(i.satisFiyat.fiyat)}}function ci(i,e){if(1&i&&(u.Pb(0,"div",53),u.Cc(1),u.Zb(2,"number"),u.Ob()),2&i){const i=u.Yb().$implicit;u.yb(1),u.Dc(u.bc(2,1,i.tutar,"0.2-2"))}}function bi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",33),u.Cc(1),u.Zb(2,"translate"),u.Pb(3,"p-spinner",67),u.Wb("onChange",function(){return u.sc(i),u.Yb(5).toplamHesapla()})("ngModelChange",function(e){return u.sc(i),u.Yb().$implicit.miktar=e}),u.Ob(),u.Ob()}if(2&i){const i=u.Yb().$implicit;u.yb(1),u.Ec("",u.ac(2,5,"amount"),": "),u.yb(2),u.fc("ngModel",i.miktar)("min",0)("size",5)("step",null!=i.stokUrun?i.stokUrun.miktarKatsayisi:1)}}function oi(i,e){1&i&&(u.Pb(0,"div",23),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&i&&(u.yb(1),u.Dc(u.ac(2,1,"salesman")))}function ui(i,e){if(1&i){const i=u.Qb();u.Pb(0,"p-dropdown",69),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb(2).$implicit.satisYapanCalisan=e}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2).$implicit,e=u.Yb(4);u.yc(u.hc(9,H)),u.fc("ngModel",i.satisYapanCalisan)("filter",!0)("options",e.isletmeCalisanTableModel.data)("placeholder",u.ac(1,7,"valueNotSet"))("showClear",!0)}}function di(i,e){if(1&i&&(u.Pb(0,"span"),u.Cc(1),u.Ob()),2&i){const i=u.Yb(2).$implicit;u.yb(1),u.Dc(i.satisYapanCalisan.calisan.tamAd)}}function mi(i,e){if(1&i&&(u.Pb(0,"div",29),u.Ac(1,ui,2,10,"p-dropdown",68),u.Ac(2,di,2,1,"span",26),u.Ob()),2&i){const i=u.Yb().$implicit,e=u.Yb(4);u.yb(1),u.fc("ngIf",e.yeniKayit),u.yb(1),u.fc("ngIf",!e.yeniKayit&&null!=i.satisYapanCalisan&&null!=i.satisYapanCalisan.calisan)}}function fi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td",62),u.Pb(2,"button",63),u.Wb("click",function(){u.sc(i);const t=e.$implicit;return u.Yb(4).satisKalemCikar(t)}),u.Ob(),u.Ob(),u.Pb(3,"td"),u.Pb(4,"div",0),u.Ac(5,ai,2,1,"div",47),u.Ac(6,ni,2,1,"div",47),u.Ac(7,ri,2,1,"div",48),u.Ac(8,ci,3,4,"div",49),u.Ac(9,bi,4,7,"div",50),u.Ac(10,oi,3,3,"div",64),u.Ac(11,mi,3,2,"div",65),u.Pb(12,"div",23),u.Cc(13),u.Zb(14,"translate"),u.Ob(),u.Pb(15,"div",29),u.Pb(16,"input",66),u.Wb("ngModelChange",function(t){return u.sc(i),e.$implicit.aciklama=t}),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit,t=u.Yb(4);u.yb(2),u.fc("disabled",t.genelService.islemDevam),u.yb(3),u.fc("ngIf",null!=i.stokUrun),u.yb(1),u.fc("ngIf",null!=i.hizmet),u.yb(1),u.fc("ngIf",null!=i.miktar),u.yb(1),u.fc("ngIf",null!=i.tutar),u.yb(1),u.fc("ngIf",null!=i.miktar),u.yb(1),u.fc("ngIf",t.yeniKayit||null!=i.satisYapanCalisan&&null!=i.satisYapanCalisan.calisan),u.yb(1),u.fc("ngIf",t.yeniKayit||null!=i.satisYapanCalisan&&null!=i.satisYapanCalisan.calisan),u.yb(2),u.Dc(u.ac(14,10,"description")),u.yb(3),u.fc("ngModel",i.aciklama)}}function hi(i,e){if(1&i&&(u.Pb(0,"div",0),u.Pb(1,"div",54),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Pb(4,"div",55),u.Cc(5),u.Zb(6,"number"),u.Ob(),u.Ob()),2&i){const i=u.Yb(4);u.yb(2),u.Dc(u.ac(3,2,"grandTotal")),u.yb(3),u.Dc(u.bc(6,4,i.satis.tutar,"0.2-2"))}}function gi(i,e){if(1&i&&(u.Pb(0,"p-table",42),u.Ac(1,si,10,8,"ng-template",5),u.Ac(2,li,13,9,"ng-template",6),u.Ac(3,fi,17,12,"ng-template",7),u.Ac(4,hi,7,7,"ng-template",43),u.Ob()),2&i){const i=u.Yb(3);u.fc("scrollable",!0)("value",i.satis.satisKalemList)}}function pi(i,e){if(1&i&&(u.Pb(0,"div",56),u.Ac(1,gi,5,2,"p-table",41),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.fc("ngIf",null!=i.satis&&null!=i.satis.satisKalemList)}}function vi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",8),u.Pb(1,"button",75),u.Wb("click",function(){u.sc(i);const t=e.$implicit;return u.Yb(4).filterStokUrun(t)}),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit,t=u.Yb(4);u.yb(1),u.fc("disabled",t.genelService.islemDevam)("label",i.ad)}}const yi=function(){return{width:"100%",height:"50vh"}};function ki(i,e){if(1&i){const i=u.Qb();u.Pb(0,"p-tabPanel",74),u.Zb(1,"translate"),u.Pb(2,"p-scrollPanel"),u.Pb(3,"div",0),u.Pb(4,"div",8),u.Pb(5,"button",75),u.Wb("click",function(){return u.sc(i),u.Yb(3).filterStokUrun(null)}),u.Zb(6,"translate"),u.Ob(),u.Ob(),u.Ac(7,vi,2,2,"div",76),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb(3);u.fc("header",u.ac(1,6,"productOrService")),u.yb(2),u.yc(u.hc(10,yi)),u.yb(3),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(6,8,"all")),u.yb(2),u.fc("ngForOf",i.stokUrunGrupTableModel.data)}}function Oi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",8),u.Pb(1,"button",75),u.Wb("click",function(){u.sc(i);const t=e.$implicit;return u.Yb(4).filterHizmet(t)}),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit,t=u.Yb(4);u.yb(1),u.fc("disabled",t.genelService.islemDevam)("label",i.ad)}}function Si(i,e){if(1&i){const i=u.Qb();u.Pb(0,"p-tabPanel",77),u.Zb(1,"translate"),u.Pb(2,"p-scrollPanel"),u.Pb(3,"div",0),u.Pb(4,"div",8),u.Pb(5,"button",75),u.Wb("click",function(){return u.sc(i),u.Yb(3).filterHizmet(null)}),u.Zb(6,"translate"),u.Ob(),u.Ob(),u.Ac(7,Oi,2,2,"div",76),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb(3);u.fc("header",u.ac(1,6,"service")),u.yb(2),u.yc(u.hc(10,yi)),u.yb(3),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(6,8,"all")),u.yb(2),u.fc("ngForOf",i.hizmetGrupTableModel.data)}}function Pi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",70),u.Pb(1,"p-tabView",71),u.Wb("onChange",function(e){return u.sc(i),u.Yb(2).tabIndex=e.index}),u.Ac(2,ki,8,11,"p-tabPanel",72),u.Ac(3,Si,8,11,"p-tabPanel",73),u.Ob(),u.Ob()}if(2&i){const i=u.Yb(2);u.yb(2),u.fc("ngIf",i.kullaniciService.seciliKullaniciKurumYetki.kurum.stokModulu&&null!=i.kullaniciService.seciliKullaniciStokDepoYetki&&i.kullaniciService.seciliKullaniciStokDepoYetki.kaydederCikisSatis),u.yb(1),u.fc("ngIf",i.kullaniciService.seciliKullaniciKurumYetki.kurum.hizmetModulu&&i.kullaniciService.seciliKullaniciIsletmeYetki.hizmetGorur)}}function Mi(i,e){1&i&&(u.Pb(0,"div",0),u.Pb(1,"div",8),u.Cc(2),u.Zb(3,"translate"),u.Ob(),u.Ob()),2&i&&(u.yb(2),u.Dc(u.ac(3,1,"loading")))}function Ci(i,e){if(1&i&&u.Kb(0,"img",84),2&i){const i=u.Yb().$implicit;u.fc("src",i.resim,u.vc)}}const Ki=function(){return{width:"100%"}};function Yi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",80),u.Pb(1,"a",81),u.Wb("click",function(){u.sc(i);const t=e.$implicit;return u.Yb(5).satisKalemUrunEkle(t)}),u.Pb(2,"p-card",82),u.Pb(3,"p-header"),u.Ac(4,Ci,1,1,"img",83),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit;u.yb(2),u.yc(u.hc(4,Ki)),u.fc("header",i.ad),u.yb(2),u.fc("ngIf",null!=i.resim)}}function Ii(i,e){if(1&i&&(u.Nb(0),u.Ac(1,Yi,5,5,"div",79),u.Mb()),2&i){const i=u.Yb(4);u.yb(1),u.fc("ngForOf",i.filteredStokUrunList)}}function Ti(i,e){if(1&i&&u.Kb(0,"img",84),2&i){const i=u.Yb().$implicit;u.fc("src",i.resim,u.vc)}}function Di(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",80),u.Pb(1,"a",81),u.Wb("click",function(){u.sc(i);const t=e.$implicit;return u.Yb(5).satisKalemHizmetEkle(t)}),u.Pb(2,"p-card",82),u.Pb(3,"p-header"),u.Ac(4,Ti,1,1,"img",83),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=e.$implicit;u.yb(2),u.yc(u.hc(4,Ki)),u.fc("header",i.ad),u.yb(2),u.fc("ngIf",null!=i.resim)}}function zi(i,e){if(1&i&&(u.Nb(0),u.Ac(1,Di,5,5,"div",79),u.Mb()),2&i){const i=u.Yb(4);u.yb(1),u.fc("ngForOf",i.filteredHizmetList)}}function Ai(i,e){if(1&i&&(u.Pb(0,"div",0),u.Ac(1,Ii,2,1,"ng-container",26),u.Ac(2,zi,2,1,"ng-container",26),u.Ob()),2&i){const i=u.Yb(3);u.yb(1),u.fc("ngIf",0==i.tabIndex),u.yb(1),u.fc("ngIf",1==i.tabIndex)}}function wi(i,e){if(1&i&&(u.Pb(0,"div",56),u.Ac(1,Mi,4,3,"div",78),u.Pb(2,"p-scrollPanel"),u.Ac(3,Ai,3,2,"div",78),u.Ob(),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.fc("ngIf",i.stokUrunTableModel.loading||i.hizmetTableModel.loading),u.yb(1),u.yc(u.hc(4,yi)),u.yb(1),u.fc("ngIf",!i.stokUrunTableModel.loading&&!i.hizmetTableModel.loading)}}function Li(i,e){if(1&i){const i=u.Qb();u.Pb(0,"input",85),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb(2).satis.aciklama=e}),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("ngModel",i.satis.aciklama)}}function Fi(i,e){if(1&i&&(u.Pb(0,"span"),u.Cc(1),u.Ob()),2&i){const i=u.Yb(2);u.yb(1),u.Dc(i.satis.aciklama)}}function Zi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).kaydet()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"saleCompleted"))}}function Ui(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).guncelleOnay()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"updateSale"))}}function xi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",9),u.Wb("click",function(){return u.sc(i),u.Yb(2).silOnay()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"cancelSale"))}}const Hi=function(){return{"height:":"0px"}};function Wi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",3),u.Pb(1,"div",17),u.Pb(2,"div",0),u.Pb(3,"div",18),u.Pb(4,"div",8),u.Pb(5,"video",19),u.Cc(6),u.Zb(7,"translate"),u.Ob(),u.Ob(),u.Ac(8,Z,2,4,"button",20),u.Ac(9,U,2,4,"button",21),u.Ac(10,x,2,4,"button",22),u.Ob(),u.Pb(11,"div",23),u.Cc(12),u.Zb(13,"translate"),u.Ob(),u.Pb(14,"div",24),u.Ac(15,W,2,10,"p-dropdown",25),u.Ac(16,G,2,1,"span",26),u.Ob(),u.Pb(17,"div",27),u.Ac(18,E,2,4,"button",22),u.Ac(19,J,2,4,"button",28),u.Ob(),u.Pb(20,"div",23),u.Cc(21),u.Zb(22,"translate"),u.Ob(),u.Pb(23,"div",29),u.Ac(24,N,2,10,"p-dropdown",30),u.Ac(25,Q,2,1,"span",26),u.Ac(26,$,3,3,"span",26),u.Ob(),u.Ac(27,ti,2,1,"div",1),u.Ac(28,pi,2,1,"div",31),u.Ac(29,Pi,4,2,"div",32),u.Ac(30,wi,4,5,"div",31),u.Pb(31,"div",33),u.Cc(32,"A\xe7\u0131klama: "),u.Ac(33,Li,1,1,"input",34),u.Ac(34,Fi,2,1,"span",26),u.Ob(),u.Pb(35,"div",8),u.Ac(36,Zi,2,4,"button",22),u.Ac(37,Ui,2,4,"button",22),u.Ac(38,xi,2,4,"button",22),u.Pb(39,"button",35),u.Wb("click",function(){return u.sc(i),u.Yb().vazgec()}),u.Zb(40,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb();u.yb(3),u.fc("ngStyle",i.imageService.kameraAktif?u.hc(36,Hi):null),u.yb(2),u.zc("display",i.imageService.kameraAktif?null:"none"),u.fc("muted",!0),u.yb(1),u.Ec("",u.ac(7,28,"yourBrowserDontSupportThisFeature")," "),u.yb(2),u.fc("ngIf",i.imageService.kameraAktif&&i.imageService.kameraAktif&&i.imageService.kameraList.length>1),u.yb(1),u.fc("ngIf",i.imageService.kameraAktif),u.yb(1),u.fc("ngIf",(i.yeniKayit||i.guncelleKayit)&&!i.imageService.kameraAktif),u.yb(2),u.Dc(u.ac(13,30,"customer")),u.yb(3),u.fc("ngIf",i.yeniKayit),u.yb(1),u.fc("ngIf",(i.guncelleKayit||i.silKayit)&&null!=i.satis.satisKalemList&&i.satis.satisKalemList.length>0&&null!=i.satis.satisKalemList[0]),u.yb(2),u.fc("ngIf",(i.yeniKayit||i.guncelleKayit)&&!i.imageService.kameraAktif&&i.yeniKayit),u.yb(1),u.fc("ngIf",null!=i.musteri&&(i.yeniKayit||i.guncelleKayit)&&!i.imageService.kameraAktif&&i.yeniKayit),u.yb(2),u.Dc(u.ac(22,32,"salesman")),u.yb(3),u.fc("ngIf",i.yeniKayit),u.yb(1),u.fc("ngIf",(i.guncelleKayit||i.silKayit)&&null!=i.satis.satisKalemList&&i.satis.satisKalemList.length>0&&null!=i.satis.satisKalemList[0]&&null!=i.satis.satisKalemList[0].satisYapanCalisan),u.yb(1),u.fc("ngIf",(i.guncelleKayit||i.silKayit)&&null!=i.satis.satisKalemList&&i.satis.satisKalemList.length>0&&null!=i.satis.satisKalemList[0]&&null!=i.satis.satisKalemList[0].satisYapanCalisan),u.yb(1),u.fc("ngIf",i.silKayit),u.yb(1),u.fc("ngIf",i.yeniKayit||i.guncelleKayit),u.yb(1),u.fc("ngIf",i.yeniKayit||i.guncelleKayit),u.yb(1),u.fc("ngIf",i.yeniKayit||i.guncelleKayit),u.yb(3),u.fc("ngIf",i.yeniKayit||i.guncelleKayit),u.yb(1),u.fc("ngIf",i.silKayit),u.yb(2),u.fc("ngIf",i.yeniKayit),u.yb(1),u.fc("ngIf",i.guncelleKayit),u.yb(1),u.fc("ngIf",i.silKayit),u.yb(1),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(40,34,"cancel"))}}function Gi(i,e){1&i&&(u.Pb(0,"h5"),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&i&&(u.yb(1),u.Dc(u.ac(2,1,"newCustomer")))}function Ei(i,e){1&i&&(u.Pb(0,"h5"),u.Cc(1),u.Zb(2,"translate"),u.Ob()),2&i&&(u.yb(1),u.Dc(u.ac(2,1,"updateCustomer")))}function Ji(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",39),u.Wb("click",function(){return u.sc(i),u.Yb(2).guncelleMusteriOnay()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"update"))}}function Ni(i,e){if(1&i){const i=u.Qb();u.Pb(0,"button",39),u.Wb("click",function(){return u.sc(i),u.Yb(2).yeniMusteriOnay()}),u.Zb(1,"translate"),u.Ob()}if(2&i){const i=u.Yb(2);u.fc("disabled",i.genelService.islemDevam)("label",u.ac(1,2,"save"))}}function Qi(i,e){if(1&i){const i=u.Qb();u.Pb(0,"div",3),u.Pb(1,"div",86),u.Pb(2,"div",11),u.Ac(3,Gi,3,3,"h5",26),u.Ac(4,Ei,3,3,"h5",26),u.Ob(),u.Pb(5,"div",0),u.Pb(6,"div",87),u.Pb(7,"span",59),u.Cc(8),u.Zb(9,"translate"),u.Ob(),u.Ob(),u.Pb(10,"div",16),u.Pb(11,"span"),u.Cc(12),u.Ob(),u.Ob(),u.Pb(13,"div",87),u.Pb(14,"span",59),u.Cc(15),u.Zb(16,"translate"),u.Ob(),u.Ob(),u.Pb(17,"div",16),u.Pb(18,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.ad=e}),u.Ob(),u.Ob(),u.Pb(19,"div",87),u.Pb(20,"span",59),u.Cc(21),u.Zb(22,"translate"),u.Ob(),u.Ob(),u.Pb(23,"div",16),u.Pb(24,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.soyad=e}),u.Ob(),u.Ob(),u.Pb(25,"div",87),u.Pb(26,"span",59),u.Cc(27),u.Zb(28,"translate"),u.Ob(),u.Ob(),u.Pb(29,"div",16),u.Pb(30,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.adres=e}),u.Ob(),u.Ob(),u.Pb(31,"div",87),u.Pb(32,"span",59),u.Cc(33),u.Zb(34,"translate"),u.Ob(),u.Ob(),u.Pb(35,"div",16),u.Pb(36,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.telefon=e}),u.Ob(),u.Ob(),u.Pb(37,"div",87),u.Pb(38,"span",59),u.Cc(39),u.Zb(40,"translate"),u.Ob(),u.Ob(),u.Pb(41,"div",16),u.Pb(42,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.yetkiliAd=e}),u.Ob(),u.Ob(),u.Pb(43,"div",87),u.Pb(44,"span",59),u.Cc(45),u.Zb(46,"translate"),u.Ob(),u.Ob(),u.Pb(47,"div",16),u.Pb(48,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.yetkiliTelefon=e}),u.Ob(),u.Ob(),u.Pb(49,"div",87),u.Pb(50,"span",59),u.Cc(51),u.Zb(52,"translate"),u.Ob(),u.Ob(),u.Pb(53,"div",16),u.Pb(54,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.yetkiliEmail=e}),u.Ob(),u.Ob(),u.Pb(55,"div",87),u.Pb(56,"span",59),u.Cc(57),u.Zb(58,"translate"),u.Ob(),u.Ob(),u.Pb(59,"div",16),u.Pb(60,"input",61),u.Wb("ngModelChange",function(e){return u.sc(i),u.Yb().musteriTemp.aciklama=e}),u.Ob(),u.Ob(),u.Pb(61,"div",8),u.Ac(62,Ji,2,4,"button",28),u.Ac(63,Ni,2,4,"button",28),u.Pb(64,"button",35),u.Wb("click",function(){u.sc(i);const e=u.Yb();return e.yeniMusteriIslemi=!1,e.guncelleMusteriIslemi=!1,e.musteriTemp=null}),u.Zb(65,"translate"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&i){const i=u.Yb();u.yb(3),u.fc("ngIf",i.yeniMusteriIslemi),u.yb(1),u.fc("ngIf",i.guncelleMusteriIslemi),u.yb(4),u.Dc(u.ac(9,24,"corporation")),u.yb(4),u.Dc(i.musteriTemp.kurum.ad),u.yb(3),u.Dc(u.ac(16,26,"customerName")),u.yb(3),u.fc("ngModel",i.musteriTemp.ad),u.yb(3),u.Dc(u.ac(22,28,"customerSurname")),u.yb(3),u.fc("ngModel",i.musteriTemp.soyad),u.yb(3),u.Dc(u.ac(28,30,"address")),u.yb(3),u.fc("ngModel",i.musteriTemp.adres),u.yb(3),u.Dc(u.ac(34,32,"phoneNumber")),u.yb(3),u.fc("ngModel",i.musteriTemp.telefon),u.yb(3),u.Dc(u.ac(40,34,"authorizedPersonName")),u.yb(3),u.fc("ngModel",i.musteriTemp.yetkiliAd),u.yb(3),u.Dc(u.ac(46,36,"authorizedPersonPhone")),u.yb(3),u.fc("ngModel",i.musteriTemp.yetkiliTelefon),u.yb(3),u.Dc(u.ac(52,38,"authorizedPersonEMail")),u.yb(3),u.fc("ngModel",i.musteriTemp.yetkiliEmail),u.yb(3),u.Dc(u.ac(58,40,"description")),u.yb(3),u.fc("ngModel",i.musteriTemp.aciklama),u.yb(2),u.fc("ngIf",i.guncelleMusteriIslemi),u.yb(1),u.fc("ngIf",i.yeniMusteriIslemi),u.yb(1),u.fc("disabled",i.genelService.islemDevam)("label",u.ac(65,42,"cancel"))}}const $i=function(){return{width:"90%",minWidth:"25%",maxWidth:"99%"}};let Bi=(()=>{class i{constructor(i,e,t,s,l,a,n,r,c,b,u){this.genelService=i,this.translatePipe=e,this.kullaniciService=t,this.satisFiyatService=s,this.stokService=l,this.hizmetService=a,this.satisService=n,this.imageService=r,this.isletmeCalisanService=c,this.musteriService=b,this.webSocketService=u,this.barkod="",this.tableModel=new o.a,this.satis=null,this.hizmetTableModel=new o.a,this.filteredHizmetList=[],this.stokUrunTableModel=new o.a,this.filteredStokUrunList=[],this.hizmetGrupTableModel=new o.a,this.stokUrunGrupTableModel=new o.a,this.isletmeCalisanTableModel=new o.a,this.musteriTableModel=new o.a,this.isletmeCalisan=null,this.musteriTemp=null,this.musteri=null,this.tabIndex=0,this.yeniKayit=!1,this.guncelleKayit=!1,this.silKayit=!1,this.yeniMusteriIslemi=!1,this.guncelleMusteriIslemi=!1,this.menuModel=[]}generateMenuCommands(i,e,t){this.menuModel=[{label:this.translatePipe.transform("update"),command:()=>{this.satis=i,this.guncelle()},icon:"fas fa-edit",visible:this.kullaniciService.yetkiKontrolKullaniciAdminMi()||this.kullaniciService.seciliKullaniciIsletmeYetki.satisGunceller},{label:this.translatePipe.transform("delete"),command:()=>{this.satis=i,this.sil()},icon:"fas fa-trash-alt",visible:this.kullaniciService.yetkiKontrolKullaniciAdminMi()||this.kullaniciService.seciliKullaniciIsletmeYetki.satisSiler}],this.menuList.toArray()[e%10].toggle(t)}barkoddanHizmetUrunEkle(){const i={pasif:!1};i.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),i.barkod=this.barkod,this.stokService.grid({page:0,pageSize:1,sortField:null,sortOrder:null,filters:i}).subscribe(i=>{i.tableModel.data.length>0&&this.satisKalemUrunEkle(i.tableModel.data[0])},i=>{this.genelService.errorHandler(i)})}filterHizmet(i){this.filteredHizmetList=null!=i?this.hizmetTableModel.data.filter(e=>null!=e.hizmetGrup&&e.hizmetGrup.id===i.id):JSON.parse(JSON.stringify(this.hizmetTableModel.data))}filterStokUrun(i){this.filteredStokUrunList=null!=i?this.stokUrunTableModel.data.filter(e=>null!=e.stokUrunGrup&&e.stokUrunGrup.id===i.id):JSON.parse(JSON.stringify(this.stokUrunTableModel.data))}satisTemsilcisiDegisti(){for(const i of this.satis.satisKalemList)i.satisYapanCalisan=null!=this.isletmeCalisan&&null!=this.isletmeCalisan.id?JSON.parse(JSON.stringify(this.isletmeCalisan)):null}musteriDegisti(){for(const i of this.satis.satisKalemList)i.musteri=null!=this.musteri&&null!=this.musteri.id?JSON.parse(JSON.stringify(this.musteri)):null}satisKalemHizmetEkle(i){const e={};e["lte-yururlukTarihi"]=(new Date).getTime(),e.pasif=!1,e.isletme=JSON.stringify({id:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme.id}),e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),e.hizmet=JSON.stringify(i),this.satisFiyatService.grid({page:0,pageSize:1,sortField:"yururlukTarihi",sortOrder:-1,filters:e}).subscribe(e=>{if(e.tableModel.count<1)return void this.genelService.messageError(this.translatePipe.transform("missingValue"),this.translatePipe.transform("serviceHasNoPrice",[i.ad]));const t=e.tableModel.data[0];this.satis.tutar=0;let s=!1;for(const l of this.satis.satisKalemList)null!=l.hizmet&&l.hizmet.id===i.id&&(s=!0,l.miktar+=1,l.satisFiyat=t);if(!s){const e={aciklama:"",indirimTutar:0,hizmet:i,miktar:1,satisFiyat:t,musteri:null!=this.musteri&&null!=this.musteri.id?this.musteri:null,satisYapanCalisan:null!=this.isletmeCalisan&&null!=this.isletmeCalisan.id?this.isletmeCalisan:null,stokUrun:null,tarih:new Date,isletme:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme,kurum:this.kullaniciService.seciliKullaniciKurumYetki.kurum,tutar:t.fiyat,stokUrunHareket:null};this.satis.satisKalemList.push(e)}this.toplamHesapla()},i=>{this.genelService.errorHandler(i)})}satisKalemUrunEkle(i){const e={};e["lte-yururlukTarihi"]=(new Date).getTime(),e.pasif=!1,e.isletme=JSON.stringify({id:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme.id}),e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),e.stokUrun=JSON.stringify(i),this.satisFiyatService.grid({page:0,pageSize:1,sortField:"yururlukTarihi",sortOrder:-1,filters:e}).subscribe(e=>{if(e.tableModel.count<1)return void this.genelService.messageError(this.translatePipe.transform("missingValue"),this.translatePipe.transform("productHasNoPrice",[i.ad]));const t=e.tableModel.data[0];this.satis.tutar=0;let s=!1;for(const l of this.satis.satisKalemList)null!=l.stokUrun&&l.stokUrun.id===i.id&&(s=!0,l.miktar+=1,l.satisFiyat=t);if(!s){const e={aciklama:"",indirimTutar:0,hizmet:null,miktar:1,satisFiyat:t,musteri:null!=this.musteri&&null!=this.musteri.id?this.musteri:null,satisYapanCalisan:null!=this.isletmeCalisan&&null!=this.isletmeCalisan.id?this.isletmeCalisan:null,stokUrun:i,tarih:new Date,isletme:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme,kurum:this.kullaniciService.seciliKullaniciKurumYetki.kurum,tutar:t.fiyat,stokUrunHareket:null};this.satis.satisKalemList.push(e)}this.toplamHesapla()},i=>{this.genelService.errorHandler(i)})}satisKalemCikar(i){for(let e=0;e<this.satis.satisKalemList.length;e++)if(this.satis.satisKalemList[e]===i){this.satis.satisKalemList.splice(e,1);break}this.toplamHesapla()}toplamHesapla(){this.satis.tutar=0;for(const i of this.satis.satisKalemList)i.tutar=i.satisFiyat.fiyat*i.miktar,this.satis.tutar+=i.tutar;this.satis.tutar=Number(this.satis.tutar.toFixed(2))}yeniSatis(){this.satis={aciklama:"",satisKalemList:[],tarih:new Date,kurum:this.kullaniciService.seciliKullaniciKurumYetki.kurum,isletme:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme,tutar:0},this.tabIndex=0,this.yeniKayit=!0}kaydet(){this.satis.id=null,this.genelService.islemDevam=!0,this.satisService.kaydet(this.satis).subscribe(i=>{this.genelService.messageSuccess(this.translatePipe.transform("success"),this.translatePipe.transform("saved")),this.genelService.islemDevam=!1,this.vazgec()},i=>{this.genelService.errorHandler(i)})}guncelle(){if(null==this.satis||null==this.satis.id)return void this.genelService.messageWarn("",this.translatePipe.transform("selectRecordFirst"));const i={pasif:!1};i.id=this.satis.id,this.satisService.gridDetayli({page:0,pageSize:1,sortField:"id",sortOrder:1,filters:i}).subscribe(i=>{null!=i&&i.tableModel.data.length>0&&(this.satis=i.tableModel.data[0],this.satis.tarih=new Date(this.satis.tarih),this.musteri=i.tableModel.data[0].satisKalemList.length>0&&null!=i.tableModel.data[0].satisKalemList[0].musteri&&null!=i.tableModel.data[0].satisKalemList[0].musteri.id?i.tableModel.data[0].satisKalemList[0].musteri:null,this.tabIndex=0,this.guncelleKayit=!0)},i=>{this.genelService.errorHandler(i)})}guncelleOnay(){this.genelService.islemDevam=!0,this.satisService.guncelle(this.satis).subscribe(i=>{this.genelService.islemDevam=!1,this.genelService.messageSuccess("",this.translatePipe.transform("updated")),this.vazgec()},i=>{this.genelService.errorHandler(i)})}sil(){if(this.tabIndex=0,null==this.satis||null==this.satis.id)return void this.genelService.messageWarn("",this.translatePipe.transform("selectRecordFirst"));const i={pasif:!1};i.id=this.satis.id,this.satisService.gridDetayli({page:0,pageSize:1,sortField:"id",sortOrder:1,filters:i}).subscribe(i=>{null!=i&&i.tableModel.data.length>0&&(this.musteri=i.tableModel.data[0].satisKalemList.length>0&&null!=i.tableModel.data[0].satisKalemList[0].musteri&&null!=i.tableModel.data[0].satisKalemList[0].musteri.id?i.tableModel.data[0].satisKalemList[0].musteri:null,this.satis=i.tableModel.data[0],this.satis.tarih=new Date(this.satis.tarih),this.tabIndex=0,this.silKayit=!0)},i=>{this.genelService.errorHandler(i)})}silOnay(){null!=this.satis&&null!=this.satis.id?(this.genelService.islemDevam=!0,this.satisService.sil(this.satis).subscribe(i=>{this.genelService.islemDevam=!1,this.genelService.messageSuccess("",this.translatePipe.transform("deleted")),this.satis=null,this.vazgec()},i=>{this.genelService.errorHandler(i)})):this.genelService.messageWarn("",this.translatePipe.transform("selectRecordFirst"))}vazgec(){this.yeniKayit=!1,this.guncelleKayit=!1,this.silKayit=!1,this.satis=null,this.imageService.cameraStop()}gridLazyEvent(i){this.tableModel.loading=!0,this.satisService.grid({page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:10,sortField:null!=i&&null!=i.sortField?i.sortField:"id",sortOrder:null!=i&&null!=i.sortField?i.sortOrder:-1,filters:{pasif:!1}}).subscribe(i=>{this.tableModel=i.tableModel,this.tableModel.loading=!1},i=>{this.genelService.errorHandler(i),this.tableModel.loading=!1})}hizmetGridLazyEvent(i){this.hizmetTableModel.loading=!0;const e={pasif:!1};e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),this.hizmetService.grid({page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:1e3,sortField:null!=i&&null!=i.sortField?i.sortField:"ad",sortOrder:null!=i&&null!=i.sortField?i.sortOrder:1,filters:e}).subscribe(i=>{this.hizmetTableModel=i.tableModel,this.filterHizmet(null),this.filterStokUrun(null),this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}isletmeCalisanGridLazyEvent(i){this.isletmeCalisanTableModel.loading=!0;const e={pasif:!1};e.isletme=JSON.stringify({id:this.kullaniciService.seciliKullaniciIsletmeYetki.isletme.id});const t={page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:5e3,sortField:null!=i&&null!=i.sortField?i.sortField:null,sortOrder:null!=i&&null!=i.sortField?i.sortOrder:null,filters:e};this.isletmeCalisanTableModel.data=[],this.isletmeCalisanService.grid(t).subscribe(i=>{this.isletmeCalisanTableModel=i.tableModel,this.filterHizmet(null),this.filterStokUrun(null),this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}musteriGridLazyEvent(i){this.genelService.islemDevam=!0,this.musteriTableModel.loading=!0;const e={pasif:!1};e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id});const t={page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:1e7,sortField:null!=i&&null!=i.sortField?i.sortField:null,sortOrder:null!=i&&null!=i.sortField?i.sortOrder:null,filters:e};this.isletmeCalisanTableModel.data=[],this.musteriService.grid(t).subscribe(i=>{this.musteriTableModel=i.tableModel,this.filterHizmet(null),this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}stokUrunGrupGridLazyEvent(i){this.stokUrunGrupTableModel.loading=!0;const e={pasif:!1};e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),this.stokService.gridStokUrunGrup({page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:1e3,sortField:null!=i&&null!=i.sortField?i.sortField:"ad",sortOrder:null!=i&&null!=i.sortField?i.sortOrder:1,filters:e}).subscribe(i=>{this.stokUrunGrupTableModel=i.tableModel,this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}hizmetGrupGridLazyEvent(i){this.hizmetGrupTableModel.loading=!0;const e={pasif:!1};e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),this.hizmetService.hizmetGrupGrid({page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:1e3,sortField:null!=i&&null!=i.sortField?i.sortField:"ad",sortOrder:null!=i&&null!=i.sortField?i.sortOrder:1,filters:e}).subscribe(i=>{this.hizmetGrupTableModel=i.tableModel,this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}stokUrunGridLazyEvent(i){this.stokUrunTableModel.loading=!0;const e={pasif:!1};e.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id}),this.stokService.gridStokUrunOzelliklerIle({page:null!=i&&null!=i.first?i.first:0,pageSize:null!=i&&null!=i.rows?i.rows:1e3,sortField:null!=i&&null!=i.sortField?i.sortField:"ad",sortOrder:null!=i&&null!=i.sortField?i.sortOrder:1,filters:e}).subscribe(i=>{this.stokUrunTableModel=i.tableModel,this.filterStokUrun(null),this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})}cameraOn(){this.imageService.cameraOnBarcode("satisKameraGoruntu",i=>{this.barkod=i,this.webSocketService.barcodeReadEvent(i),this.cameraOn()},()=>{this.imageService.cameraStop()})}changeCamera(){this.imageService.cameraChangeBarcode("satisKameraGoruntu",i=>{this.barkod=i,this.barkoddanHizmetUrunEkle()})}guncelleMusteri(){null!=this.musteri&&null!=this.musteri.id?(this.musteriTemp=JSON.parse(JSON.stringify(this.musteri)),this.guncelleMusteriIslemi=!0):this.genelService.messageWarn("",this.translatePipe.transform("selectRecordFirst"))}guncelleMusteriOnay(){this.genelService.islemDevam=!0,null!=this.musteriTemp&&null!=this.musteriTemp.id?null!=this.musteriTemp.ad&&this.musteriTemp.ad.length<1?this.genelService.messageWarn(this.translatePipe.transform("missingValue"),this.translatePipe.transform("nameCannotBeEmpty")):(this.musteriTemp.ad=this.musteriTemp.ad.toLocaleUpperCase(),this.musteriTemp.adres=this.musteriTemp.adres.toLocaleUpperCase(),this.musteriService.guncelle(this.musteriTemp).subscribe(()=>{this.genelService.islemDevam=!1,this.genelService.messageSuccess("",this.translatePipe.transform("updated")),this.genelService.islemDevam=!0,this.musteriTableModel.loading=!0;const i={pasif:!1};i.kurum=JSON.stringify({id:this.kullaniciService.seciliKullaniciKurumYetki.kurum.id});const e={page:0,pageSize:1e7,sortField:null,sortOrder:null,filters:i};this.isletmeCalisanTableModel.data=[],this.musteriService.grid(e).subscribe(i=>{this.musteriTableModel=i.tableModel;for(const e of this.musteriTableModel.data)if(this.musteriTemp.id===e.id){this.musteri=e;break}this.yeniMusteriIslemi=!1,this.guncelleMusteriIslemi=!1,this.musteriTemp=null,this.genelService.islemDevam=!1},i=>{this.genelService.errorHandler(i)})},i=>{this.genelService.errorHandler(i)})):this.genelService.messageWarn("",this.translatePipe.transform("selectRecordFirst"))}yeniMusteri(){this.genelService.messageClear(),this.musteriTemp={ad:"",soyad:"",telefon:"",adres:"",kurum:this.kullaniciService.seciliKullaniciKurumYetki.kurum},this.yeniMusteriIslemi=!0}yeniMusteriOnay(){null==this.musteriTemp.ad||this.musteriTemp.ad.length<1?this.genelService.messageError(this.translatePipe.transform("missingValue"),this.translatePipe.transform("nameCannotBeEmpty")):(this.musteriTemp.ad=this.musteriTemp.ad.toLocaleUpperCase(),null!=this.musteriTemp.soyad&&(this.musteriTemp.soyad=this.musteriTemp.soyad.toLocaleUpperCase()),null!=this.musteriTemp.adres&&(this.musteriTemp.adres=this.musteriTemp.adres.toLocaleUpperCase()),null!=this.musteriTemp.aciklama&&(this.musteriTemp.aciklama=this.musteriTemp.aciklama.toLocaleUpperCase()),null!=this.musteriTemp.yetkiliAd&&(this.musteriTemp.yetkiliAd=this.musteriTemp.yetkiliAd.toLocaleUpperCase()),null!=this.musteriTemp.adres&&(this.musteriTemp.adres=this.musteriTemp.adres.toLocaleUpperCase()),this.genelService.islemDevam=!0,this.musteriService.kaydet(this.musteriTemp).subscribe(()=>{this.genelService.islemDevam=!1,this.genelService.messageSuccess(this.translatePipe.transform("success"),this.translatePipe.transform("saved")),this.yeniMusteriIslemi=!1,this.guncelleMusteriIslemi=!1,this.musteriTemp=null,this.musteriGridLazyEvent(null)},i=>{this.genelService.errorHandler(i)}))}ngOnInit(){this.kullaniciService.userScreen=this.translatePipe.transform("Sales"),null==this.kullaniciService.token||this.kullaniciService.token.length<1?this.genelService.navigate(["/"]):(this.genelService.kullaniciMobil=this.genelService.regex_Mobilmi(),this.genelService.getLocalIp(),this.musteriGridLazyEvent(null),this.hizmetGridLazyEvent(null),this.stokUrunGrupGridLazyEvent(null),this.hizmetGrupGridLazyEvent(null),this.stokUrunGridLazyEvent(null),this.isletmeCalisanGridLazyEvent(null),this.imageService.cameraList(),this.webSocketService.onBarcodeRead=i=>{(this.yeniKayit||this.guncelleKayit)&&null!=this.satis&&(this.barkod=i,this.barkoddanHizmetUrunEkle())})}}return i.\u0275fac=function(e){return new(e||i)(u.Jb(d.a),u.Jb(m.a),u.Jb(f.a),u.Jb(h.a),u.Jb(g.a),u.Jb(p.a),u.Jb(v.a),u.Jb(y.a),u.Jb(k.a),u.Jb(O.a),u.Jb(S.a))},i.\u0275cmp=u.Db({type:i,selectors:[["app-satis"]],viewQuery:function(i,e){var t;1&i&&u.Ic(z,!0),2&i&&u.qc(t=u.Xb())&&(e.menuList=t)},decls:6,vars:13,consts:[[1,"p-grid","p-align-center","vertical-container"],["class","p-col-12",4,"ngIf"],[3,"visible","baseZIndex","header","maximizable","modal","visibleChange"],[1,"p-col-12"],["dataKey","id",3,"lazy","loading","paginator","rows","totalRecords","value","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-text-center"],["pButton","",1,"p-button-success",3,"disabled","label","click"],[2,"width","54px"],[1,"p-text-center"],["icon","fas fa-caret-square-down","pButton","",1,"p-button-info",3,"disabled","click"],[3,"model","popup"],["menu",""],[1,"p-col-12","p-md-4","p-lg-4",2,"font-weight","bold"],[1,"p-col-12","p-md-8","p-lg-8"],[1,"p-card"],[1,"p-col-12","p-text-center",3,"ngStyle"],["autoplay","","id","satisKameraGoruntu",2,"max-width","512px","max-height","352px","width","100%","border-radius","30px",3,"muted"],["class","p-button-info","icon","far fa-image","pButton","",3,"disabled","label","click",4,"ngIf"],["class","p-button-danger","icon","fas fa-times-circle","pButton","",3,"disabled","label","click",4,"ngIf"],["class","p-button-success","pButton","",3,"disabled","label","click",4,"ngIf"],[1,"p-col-12","p-md-4","p-lg-2",2,"font-weight","bold"],[1,"p-col-12","p-md-4","p-lg-6"],["optionLabel","tamAd",3,"ngModel","filter","options","placeholder","showClear","style","onChange","ngModelChange",4,"ngIf"],[4,"ngIf"],[1,"p-col-12","p-md-4","p-lg-4","p-text-center"],["class","p-button-info","pButton","",3,"disabled","label","click",4,"ngIf"],[1,"p-col-12","p-md-8","p-lg-10"],["optionLabel","calisan.tamAd",3,"ngModel","filter","options","placeholder","showClear","style","onChange","ngModelChange",4,"ngIf"],["class","p-col-12 p-md-5 p-lg-5",4,"ngIf"],["class","p-col-12 p-md-2 p-lg-2",4,"ngIf"],[1,"p-col-12",2,"text-align","left"],["pInputText","","style","width: 80%",3,"ngModel","ngModelChange",4,"ngIf"],["pButton","",1,"p-button-danger",3,"disabled","label","click"],["icon","far fa-image","pButton","",1,"p-button-info",3,"disabled","label","click"],["icon","fas fa-times-circle","pButton","",1,"p-button-danger",3,"disabled","label","click"],["optionLabel","tamAd",3,"ngModel","filter","options","placeholder","showClear","onChange","ngModelChange"],["pButton","",1,"p-button-info",3,"disabled","label","click"],["optionLabel","calisan.tamAd",3,"ngModel","filter","options","placeholder","showClear","onChange","ngModelChange"],["scrollHeight","50vh",3,"scrollable","value",4,"ngIf"],["scrollHeight","50vh",3,"scrollable","value"],["pTemplate","summary"],[1,"p-col-5"],[1,"p-col-3"],[1,"p-col-4"],["class","p-col-5","style","text-align: left",4,"ngIf"],["class","p-col-3","style","text-align: right",4,"ngIf"],["class","p-col-4","style","text-align: right",4,"ngIf"],["class","p-col-12","style","text-align: left",4,"ngIf"],[1,"p-col-5",2,"text-align","left"],[1,"p-col-3",2,"text-align","right"],[1,"p-col-4",2,"text-align","right"],[1,"p-col-6",2,"text-align","left","font-weight","bold"],[1,"p-col-6",2,"text-align","right"],[1,"p-col-12","p-md-5","p-lg-5"],[1,"p-grid","p-align-center","vertical-container","p-text-center"],[1,"p-col-12","p-md-12","p-lg-4"],[2,"font-weight","bold"],[1,"p-col-12","p-md-6","p-lg-4"],["pInputText","","type","text",2,"width","100%",3,"ngModel","ngModelChange"],[2,"text-align","center","width","54px"],["icon","fas fa-times","pButton","",1,"p-button-danger",2,"color","white",3,"disabled","click"],["class","p-col-12 p-md-4 p-lg-2","style","font-weight: bold",4,"ngIf"],["class","p-col-12 p-md-8 p-lg-10",4,"ngIf"],["pInputText","",2,"width","100%",3,"ngModel","ngModelChange"],[3,"ngModel","min","size","step","onChange","ngModelChange"],["optionLabel","calisan.tamAd",3,"ngModel","filter","options","placeholder","showClear","style","ngModelChange",4,"ngIf"],["optionLabel","calisan.tamAd",3,"ngModel","filter","options","placeholder","showClear","ngModelChange"],[1,"p-col-12","p-md-2","p-lg-2"],[3,"onChange"],["leftIcon","fas fa-boxes",3,"header",4,"ngIf"],["leftIcon","fas fa-concierge-bell",3,"header",4,"ngIf"],["leftIcon","fas fa-boxes",3,"header"],["pButton","",2,"width","100%",3,"disabled","label","click"],["class","p-col-12 p-text-center",4,"ngFor","ngForOf"],["leftIcon","fas fa-concierge-bell",3,"header"],["class","p-grid p-align-center vertical-container",4,"ngIf"],["class","p-col-6 p-md-6 p-lg-4","style","min-height: 100px; text-align: center",4,"ngFor","ngForOf"],[1,"p-col-6","p-md-6","p-lg-4",2,"min-height","100px","text-align","center"],[3,"click"],[3,"header"],["loading","lazy","style","display: block; width: 100%; object-fit: scale-down; height: 75px; border-radius: 10px",3,"src",4,"ngIf"],["loading","lazy",2,"display","block","width","100%","object-fit","scale-down","height","75px","border-radius","10px",3,"src"],["pInputText","",2,"width","80%",3,"ngModel","ngModelChange"],[1,"p-card","grid-card"],[1,"p-col-12","p-md-4","p-lg-4"]],template:function(i,e){1&i&&(u.Pb(0,"div",0),u.Ac(1,F,5,6,"div",1),u.Ac(2,Wi,41,37,"div",1),u.Ob(),u.Pb(3,"p-dialog",2),u.Wb("visibleChange",function(i){return e.yeniMusteriIslemi||(e.guncelleMusteriIslemi=i)}),u.Zb(4,"translate"),u.Ac(5,Qi,66,44,"div",1),u.Ob()),2&i&&(u.yb(1),u.fc("ngIf",!e.yeniKayit&&!e.guncelleKayit&&!e.silKayit),u.yb(1),u.fc("ngIf",e.yeniKayit||e.guncelleKayit||e.silKayit),u.yb(1),u.yc(u.hc(12,$i)),u.fc("visible",e.yeniMusteriIslemi||e.guncelleMusteriIslemi)("baseZIndex",1e4)("header",u.ac(4,10,"customer"))("maximizable",!0)("modal",!0),u.yb(2),u.fc("ngIf",null!=e.musteriTemp))},directives:[s.m,P.a,n.d,M.j,c.b,C.a,s.n,K.a,l.f,l.g,l.a,r.a,Y.a,I.b,I.a,T.a,s.l,D.a,M.g],pipes:[m.a,s.d,s.e],styles:[""],data:{animation:[b.a]}}),i})();var Ri=t("bKFz"),ji=t("s5zK");const Vi=[{path:"",component:Bi}];let qi=(()=>{class i{}return i.\u0275mod=u.Hb({type:i}),i.\u0275inj=u.Gb({factory:function(e){return new(e||i)},providers:[ji.a,v.a,h.a],imports:[[a.e.forChild(Vi),s.b,l.b,Ri.a,c.c,n.g,C.b,r.b,K.b,Y.b,I.c,T.b,P.b,D.b]]}),i})()}}]);